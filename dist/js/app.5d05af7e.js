(function(t){function e(e){for(var a,o,c=e[0],i=e[1],u=e[2],p=0,d=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"text-center",attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/lottery"}},[t._v("Lottery Game")])],1),n("router-view")],1)},s=[],o=(n("034f"),n("2877")),c={},i=Object(o["a"])(c,r,s,!1,null,null,null),u=i.exports,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"jumbotron text-center"},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),a("img",{staticStyle:{height:"260px",width:"260px"},attrs:{alt:"Vue logo",src:n("d9aa")}}),a("p",[t._v("This Contract is managed by "),a("code",[t._v(t._s(t.manager))])]),a("b-button",{staticClass:"mt-2 mb-2 text-white",attrs:{variant:"primary",size:"sm",to:"/lottery"}},[t._v("Try Now")]),a("br"),a("a",{attrs:{href:"https://github.com/StephenGrider"}},[t._v("Contract Credits: StephenGrider "),a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}})])]),a("p",[t._v("This project is a addon layer on top of ethereum's smart contract.")]),a("p",[t._v("Requirements: Metamask Extention "),a("a",{attrs:{href:"https://metamask.io/"}},[a("b-icon",{attrs:{icon:"cloud-download"}})],1)]),a("p",[t._v("Get Free Ethers "),a("a",{attrs:{href:"https://faucet.rinkeby.io/"}},[a("svg",{attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd"}},[a("path",{attrs:{d:"M22 22h-20c-1.104 0-2-.896-2-2v-12c0-1.104.896-2 2-2h1.626l.078.283c.194.631.518 1.221.95 1.717h-2.154c-.276 0-.5.224-.5.5v5.5h20v-5.5c0-.276-.224-.5-.5-.5h-2.154c.497-.569.853-1.264 1.029-2h1.625c1.104 0 2 .896 2 2v12c0 1.104-.896 2-2 2zm-20-5v2.5c0 .276.224.5.5.5h19c.276 0 .5-.224.5-.5v-2.5h-20zm8.911-5h-2.911c.584-1.357 1.295-2.832 2-4-.647-.001-1.572.007-2 0-2.101-.035-2.987-1.806-3-3-.016-1.534 1.205-3.007 3-3 1.499.006 2.814.872 4 2.313 1.186-1.441 2.501-2.307 4-2.313 1.796-.007 3.016 1.466 3 3-.013 1.194-.899 2.965-3 3-.428.007-1.353-.001-2 0 .739 1.198 1.491 2.772 2 4h-2.911c-.241-1.238-.7-2.652-1.089-3.384-.388.732-.902 2.393-1.089 3.384zm-2.553-7.998c-1.131 0-1.507 1.918.12 1.998.237.012 2.235 0 2.235 0-1.037-1.44-1.52-1.998-2.355-1.998zm7.271 0c1.131 0 1.507 1.918-.12 1.998-.237.012-2.222 0-2.222 0 1.037-1.44 1.507-1.998 2.342-1.998z"}})])])]),a("hr"),a("a",{attrs:{href:"https://github.com/parag1997"}},[t._v("Parag C "),a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}})])])],1)])},d=[],m=(n("96cf"),n("1da1")),h=n("6314"),v=n.n(h),b=new v.a(window.web3.currentProvider);window.addEventListener("load",Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=11;break}return window.web3=new v.a(window.ethereum),t.prev=2,t.next=5,window.ethereum.enable();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](2);case 9:t.next=12;break;case 11:window.web3?window.web3=new v.a(b.currentProvider):console.log("Non-Ethereum browser detected. You should consider trying MetaMask!");case 12:case"end":return t.stop()}}),t,null,[[2,7]])}))));var f=b,g="0x6B304417FB750DFA072a1BB15A9793b7fE5B80A2",w=[{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pickWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"random",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"enter",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"players",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastWinner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],y=new f.eth.Contract(w,g),_={name:"Home",components:{},data:function(){return{manager:""}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.methods.manager().call();case 2:n=e.sent,t.manager=n;case 4:case"end":return e.stop()}}),e)})))()}},x=_,A=Object(o["a"])(x,p,d,!1,null,null,null),k=A.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"jumbotron"},[n("b-container",{},[n("b-row",[n("b-col",{attrs:{md:"3"}},[n("b-form",[n("h4",[t._v("Want to try your luck?")]),n("p",[t._v("Give it a shot!")]),n("label",{attrs:{for:"text-password"}},[t._v("Enter the amount")]),n("b-input",{attrs:{type:"number",id:"amount","aria-describedby":"amount",placeholder:"Enter the value in ether"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),n("span",{staticClass:"text-muted"},[n("small",[n("i",[t._v("Amount >= 0.01 ether")])])]),n("div",{staticClass:"d-flex justify-content-end flex-column"},[n("b-button",{staticClass:"mt-2 mb-2 text-white",attrs:{variant:"primary",size:"sm",disabled:t.userAccount==t.manager},on:{click:function(e){return e.preventDefault(),t.bet()}}},[t._v("Bet the Amount "),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:1==t.loading,expression:"loading==true"}],attrs:{label:"Loading...",small:""}})],1),t.userAccount==t.manager?n("b-badge",{attrs:{variant:"danger"}},[n("small",[t._v("Manager Account & User Account cannot be same")])]):t._e()],1)],1),n("hr"),n("b-form",{staticClass:"mt-4"},[n("b-button",{attrs:{block:"",variant:"success",disabled:t.userAccount!=t.manager&&0==t.players.length},on:{click:function(e){return e.preventDefault(),t.getWinner()}}},[t._v("Pick a Winner "),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:1==t.loading2,expression:"loading2==true"}],attrs:{label:"Loading...",small:""}})],1)],1)],1),n("b-col",{attrs:{cols:"6",md:"5"}},[n("h4",[t._v("Lottery pool")]),n("p",[t._v("Total Amount in the pool: ETH "),n("b-badge",{attrs:{variant:"success"}},[t._v(t._s(t.balance))])],1),n("b-alert",{attrs:{variant:"primary",show:""}},[n("small",[n("b-icon",{attrs:{icon:"star-fill",variant:"warning"}}),t._v(" Previous Winner "),n("br"),n("b-avatar",{attrs:{src:"https://api.adorable.io/avatars/250/"+t.lastWinner}}),t._v(" "+t._s(t.lastWinner))],1)]),n("h6",[t._v("Players")]),n("p",[t._v("There are currently "+t._s(t.players.length)+" players competing to win "+t._s(t.balance)+" ETH ")]),n("b-list-group",t._l(t.players,(function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center"},[n("b-avatar",{attrs:{src:"https://api.adorable.io/avatars/250/"+e}}),n("small",[t._v(t._s(e))])],1)})),1)],1),n("b-col",{attrs:{cols:"6",md:"4"}},[t._v("Contract Details "),n("b-card",[n("p",[t._v("Your Current balance is "),n("br"),t._v("ETH: "),n("b-badge",{attrs:{variant:"success"}},[t._v(t._s(t.userBalance))])],1),n("p",[t._v("Your Account Address is: "),n("b-alert",{attrs:{variant:t.userAccount!=t.manager?"success":"danger",show:""}},[t._v(t._s(t.userAccount)+" "),n("br"),t.userAccount==t.manager?n("b-badge",{attrs:{variant:"danger"}},[n("small",[t._v("Manager Account & User Account cannot be same")])]):t._e()],1)],1),n("hr"),n("p",[t._v("This Contract is managed by "),n("b-alert",{attrs:{variant:"primary",show:""}},[n("small",[t._v(" "+t._s(t.manager))])])],1)])],1)],1)],1)],1)])},j=[],B=(n("caad"),n("2532"),{name:"Home",components:{},data:function(){return{manager:"",userBalance:"",userAccount:"",balance:"",players:[],amount:"",lastWinner:"",error:!1,loading:!1,loading2:!1}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getLastWinner(),e.next=3,y.methods.manager().call();case 3:return n=e.sent,t.manager=n,t.getPlayers(),t.getContractBalance(),e.next=9,f.eth.getAccounts();case 9:return a=e.sent,t.userAccount=a[0],console.log(t.userAccount),e.next=14,f.eth.getBalance(t.userAccount);case 14:r=e.sent,t.userBalance=f.utils.fromWei(r,"ether"),console.log(t.userBalance);case 17:case"end":return e.stop()}}),e)})))()},watch:{userAccount:function(t,e){var n=this;window.ethereum.on("accountsChanged",(function(){f.eth.getAccounts().then((function(t){n.userAccount=t[0],console.log("[ACCOUNT CHANGED]",n.userAccount),f.eth.getBalance(n.userAccount).then((function(t){n.userBalance=f.utils.fromWei(t,"ether"),console.log("[Balance CHANGED]",n.userBalance)})),n.$toast("Account Changed",{timeout:1e3,type:"success"})}))}))}},methods:{bet:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,!t.players.includes(t.userAccount)){e.next=7;break}console.log("Account Present"),t.$toast("Already placed a bet!",{timeout:1e3,type:"warning"}),t.amount="",e.next=16;break;case 7:return console.log("ok to go"),e.next=10,y.methods.enter().send({from:t.userAccount,value:f.utils.toWei(t.amount,"ether")});case 10:return e.next=12,t.getContractBalance();case 12:return e.next=14,t.getPlayers();case 14:t.$toast("Successfully placed the bet",{timeout:1e3,type:"success"}),console.log("Done");case 16:t.loading=!1;case 17:case"end":return e.stop()}}),e)})))()},getContractBalance:function(){var t=this;f.eth.getBalance(y.options.address).then((function(e){return t.balance=f.utils.fromWei(e,"ether")}))},getPlayers:function(){var t=this;return y.methods.getPlayers().call().then((function(e){t.players=e,console.log(t.players)})),this.players},getLastWinner:function(){var t=this;y.methods.lastWinner().call().then((function(e){t.lastWinner=e,console.log(t.lastWinner)}))},getWinner:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading2=!0,e.next=3,y.methods.pickWinner().send({from:t.userAccount});case 3:return t.$toast("Voila! We have a winner",{timeout:2e3,type:"success"}),t.loading2=!1,t.getLastWinner(),e.next=8,t.getContractBalance();case 8:return e.next=10,t.getPlayers();case 10:case"end":return e.stop()}}),e)})))()}}}),W=B,M=Object(o["a"])(W,C,j,!1,null,null,null),O=M.exports;a["default"].use(l["a"]);var P=[{path:"/",name:"Home",component:k},{path:"/lottery",name:"Lottery",component:O}],E=new l["a"]({mode:"history",base:"/",routes:P}),T=E,R=n("2f62");a["default"].use(R["a"]);var S=new R["a"].Store({state:{},mutations:{},actions:{},modules:{}}),z=n("6c42"),H=(n("da96"),n("5f5b")),L=n("b1e0");n("f9e3"),n("2dd8");a["default"].use(z["a"]),a["default"].use(H["a"]),a["default"].use(L["a"]),a["default"].config.productionTip=!1,new a["default"]({router:T,store:S,render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d9aa:function(t,e,n){t.exports=n.p+"img/ethereum.dadbeae8.svg"}});
//# sourceMappingURL=app.5d05af7e.js.map